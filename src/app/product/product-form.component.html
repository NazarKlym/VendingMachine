
<div>
    <div>
      <table border="1" width="400px" cellpadding="2" >
            <tr *ngIf="productsService.products.length>0">
              <td><b>Category</b></td>
                 <td><b>Price</b></td>
                    <td><b>Quantity</b></td>
                </tr>

          <tr *ngFor="let product of productsService.products; " >
            <td width="38%">
                {{product.name}}
            </td>
            <td width="15%">
               {{product.price|number:'1.2'}}
            </td>
            <td width="7%">
            <ng-template #editingProduct>
              <label>
                <input class="quantityInp" type="number" min="0" [(ngModel)]="product.quantity"
                       (blur)="productsService.done_editProduct(product)">
              </label>
            </ng-template>

            <div *ngIf="!product.editing, else editingProduct"> {{product.quantity}}</div>
            </td>

      <div *ngIf="!listProducts">

        <button *ngIf="!product.editing" (click)="productsService.editProduct(product)">addItem</button>
        <button *ngIf="product.editing" (click)="productsService.done_editProduct(product)">addItem</button>
      </div>
        <div *ngIf="listProducts">
          <button *ngIf="product.quantity > 0 "
                  (click)="productsService.purchaseProduct(product) ">Purchase</button>
        </div>
    </tr>

        <br>
              <div *ngIf="!listProducts">
                  <button *ngIf="productsService.products.length > 0" (click)="productsService.removeProduct()"> clear </button>
              </div>
  </table>
</div>

<div *ngIf="!listProducts">
  <br>
  <tr>
    <td><b>Category</b></td>
    <td><b>price</b></td>
    <td><b>quantity</b></td>
  </tr>

  <tr>
    <td>
      <label>
        <input  [(ngModel)] ="name" >
      </label>
    </td>

    <td>
      <label>
        <input min="0" class="priceInp" type="number"   [(ngModel)]="price"  >
      </label>
    </td>

    <td>
      <label>
        <input min="0" class="quantityInp" type="number"  [(ngModel)]="quantity">
      </label>
    </td>
           <td><button (click)="addProduct()">AddCategory</button></td>
    </tr>
</div>
<br>
    <div>
        <button *ngIf="!listProducts"(click)="toggle(); productsService.sortProduct()">List</button>

        <button *ngIf="listProducts" (click)="toggle()">ADD Category</button>
    </div>
</div>

<!--Purchase List-->

<div>
  <div *ngIf="productsService.orders.length > 0">
    <span ><h3>Purchase list</h3></span>
  <table border="1" width="30%" cellpadding="3">
    <tr>
      <td><b>Category</b></td>
      <td><b>Price</b></td>
      <td><b>Date</b></td>
    </tr>
    <tr *ngFor="let order of productsService.orders; " >
          <td>
              {{order.name}}
          </td>

         <td>
           {{order.price|number:'1.2'}}
         </td>

          <td>
              {{order.date|date:'y-M-d'}}
          </td>
     </table>
</div>
  <div *ngIf="productsService.orders.length > 0">
    <br>
        <input type='date' [(ngModel)]='dateFrom' />
             <span><button (click)="ordersReport()">report</button></span>
           <br>
          <br>
        <span>{{reportList| json}}</span>
    </div>
</div>

